{"version":3,"sources":["webpack:///dist/dicom-viewer/__ivy_ngcc__/fesm2015/ng-dicomviewer.js","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["_c0","a0","DICOMViewerComponent_div_1_a_2_Template","rf","ctx","_r10","DICOMViewerComponent_div_1_a_2_Template_a_click_0_listener","i_r8","index","ctx_r9","showSeries","series_r7","$implicit","ctx_r6","currentSeriesIndex","imageList","seriesDescription","imageCount","DICOMViewerComponent_div_1_Template","ctx_r0","seriesList","DICOMViewerComponent_div_5_Template","_r12","DICOMViewerComponent_div_5_Template_button_click_1_listener","ctx_r11","enableWindowing","DICOMViewerComponent_div_5_Template_button_click_3_listener","ctx_r13","invertImage","DICOMViewerComponent_div_5_Template_button_click_5_listener","ctx_r14","enableScroll","DICOMViewerComponent_div_5_Template_button_click_7_listener","ctx_r15","enableLength","DICOMViewerComponent_div_5_Template_button_click_9_listener","ctx_r16","enableAngle","DICOMViewerComponent_div_5_Template_button_click_11_listener","ctx_r17","enableProbe","DICOMViewerComponent_div_5_Template_button_click_13_listener","ctx_r18","enableElliptical","DICOMViewerComponent_div_5_Template_button_click_15_listener","ctx_r19","enableRectangle","DICOMViewerComponent_div_5_Template_button_click_17_listener","ctx_r20","resetImage","DICOMViewerComponent_button_11_Template","_r22","DICOMViewerComponent_button_11_Template_button_click_0_listener","ctx_r21","playClip","DICOMViewerComponent_button_12_Template","_r24","DICOMViewerComponent_button_12_Template_button_click_0_listener","ctx_r23","stopClip","DICOMViewerComponent_a_13_Template","ctx_r4","downloadImagesURL","DICOMViewerComponent_a_18_Template","_r26","DICOMViewerComponent_a_18_Template_a_click_0_listener","ctx_r25","loadMoreImages","ctx_r5","moreImagestoLoad","CornerstoneDirective","elementRef","imageIdList","currentIndex","patientName","hospital","instanceNumber","WwwcTool","cornerstoneTools","PanTool","ZoomTool","ProbeTool","LengthTool","AngleTool","EllipticalRoiTool","RectangleRoiTool","DragProbeTool","ZoomTouchPinchTool","PanMultiTouchTool","StackScrollTool","StackScrollMouseWheelTool","isCornerstoneEnabled","event","cornerstone","resize","element","preventDefault","length","delta","Math","max","min","wheelDelta","detail","displayImage","nativeElement","external","Hammer","cornerstoneMath","init","globalToolSyncEnabled","addTool","resetViewer","disableViewer","enable","disable","currentImage","imageData","push","imageId","image","viewport","getDefaultViewportForImage","fitToWindow","data","string","replace","intString","setToolActiveForElement","mouseButtonMask","stack","currentImageIdIndex","imageIds","addStackStateManager","addToolState","setToolDisabledForElement","getViewport","round","voi","windowWidth","windowCenter","scale","toFixed","ɵfac","CornerstoneDirective_Factory","t","ɵdir","type","selectors","hostBindings","CornerstoneDirective_HostBindings","CornerstoneDirective_resize_HostBindingHandler","$event","onResize","CornerstoneDirective_wheel_HostBindingHandler","onMouseWheel","ctorParameters","propDecorators","args","selector","ThumbnailDirective","setImageData","refresh","ThumbnailDirective_Factory","inputs","DICOMViewerComponent","enableViewerTools","enablePlayTools","maxImagesToLoad","currentSeries","loadingImages","loadedImages","targetImageCount","viewPort","resetImageCache","maxImages","loadAndCacheImage","then","imageLoaded","nextImageIndex","err","series","studyID","seriesID","seriesNumber","studyDescription","seriesIndex","findIndex","item","sort","a","b","seriesItem","i","addImageData","saveAs","nextImage","previousImage","resetAllTools","frameRate","stackState","getToolState","undefined","invert","setViewport","toolStateManager","getElementToolStateManager","clearToolState","updateImage","color","imagesToLoad","toString","display","DICOMViewerComponent_Factory","ɵcmp","viewQuery","DICOMViewerComponent_Query","_t","first","thumbnails","decls","vars","consts","template","DICOMViewerComponent_Template","DICOMViewerComponent_Template_button_click_7_listener","enableZoom","DICOMViewerComponent_Template_button_click_9_listener","enablePan","DICOMViewerComponent_Template_button_click_14_listener","DICOMViewerComponent_Template_button_click_16_listener","hidePreviousImage","hideNextImage","showProgress","windowingValue","directives","styles","DicomViewerModule","ɵmod","ɵinj","factory","DicomViewerModule_Factory","imports","ngJitMode","declarations","exports","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","code","keys","module","id","AppComponent","cornerstoneWADOImageLoader","webWorkerManager","initialize","webWorkerPath","taskConfiguration","codecsPath","files","fileList","Array","from","name","wadouri","dataSetCacheManager","purge","dicomFile","fileManager","add","loadStudyImages","alert","loadDICOMImages","templateUrl","styleUrls","AppModule","providers","bootstrap","environment","production","bootstrapModule","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Directive, ElementRef, HostListener, Input, Component, ViewChild, ViewChildren, NgModule } from '@angular/core';\nimport * as Hammer from 'hammerjs';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@angular/material/progress-spinner';\n\nconst _c0 = function (a0) { return { \"active\": a0 }; };\nfunction DICOMViewerComponent_div_1_a_2_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 32);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_1_a_2_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r10); const i_r8 = ctx.index; const ctx_r9 = ɵngcc0.ɵɵnextContext(2); return ctx_r9.showSeries(i_r8); });\n    ɵngcc0.ɵɵelement(1, \"div\", 33);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 34);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(4, \"div\", 22);\n    ɵngcc0.ɵɵelementStart(5, \"div\", 35);\n    ɵngcc0.ɵɵtext(6);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const series_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    const ctx_r6 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(4, _c0, ctx_r6.currentSeriesIndex === i_r8));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"imageData\", series_r7.imageList[0]);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(series_r7.seriesDescription);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate(series_r7.imageCount);\n} }\nfunction DICOMViewerComponent_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 27);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 28);\n    ɵngcc0.ɵɵtemplate(2, DICOMViewerComponent_div_1_a_2_Template, 7, 6, \"a\", 29);\n    ɵngcc0.ɵɵelementStart(3, \"div\", 30);\n    ɵngcc0.ɵɵelementStart(4, \"h6\", 31);\n    ɵngcc0.ɵɵelementStart(5, \"small\");\n    ɵngcc0.ɵɵtext(6, \"0.1.12\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r0.seriesList);\n} }\nfunction DICOMViewerComponent_div_5_Template(rf, ctx) { if (rf & 1) {\n    const _r12 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 3);\n    ɵngcc0.ɵɵelementStart(1, \"button\", 36);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.enableWindowing(); });\n    ɵngcc0.ɵɵelement(2, \"span\", 37);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"button\", 38);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_3_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r13 = ɵngcc0.ɵɵnextContext(); return ctx_r13.invertImage(); });\n    ɵngcc0.ɵɵelement(4, \"span\", 39);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(5, \"button\", 40);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_5_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r14 = ɵngcc0.ɵɵnextContext(); return ctx_r14.enableScroll(); });\n    ɵngcc0.ɵɵelement(6, \"span\", 41);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"button\", 42);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_7_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r15 = ɵngcc0.ɵɵnextContext(); return ctx_r15.enableLength(); });\n    ɵngcc0.ɵɵelement(8, \"span\", 43);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(9, \"button\", 44);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_9_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r16 = ɵngcc0.ɵɵnextContext(); return ctx_r16.enableAngle(); });\n    ɵngcc0.ɵɵelement(10, \"span\", 45);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(11, \"button\", 46);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_11_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r17 = ɵngcc0.ɵɵnextContext(); return ctx_r17.enableProbe(); });\n    ɵngcc0.ɵɵelement(12, \"span\", 47);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(13, \"button\", 48);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_13_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r18 = ɵngcc0.ɵɵnextContext(); return ctx_r18.enableElliptical(); });\n    ɵngcc0.ɵɵelement(14, \"span\", 49);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(15, \"button\", 50);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_15_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r19 = ɵngcc0.ɵɵnextContext(); return ctx_r19.enableRectangle(); });\n    ɵngcc0.ɵɵelement(16, \"span\", 51);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(17, \"button\", 52);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_div_5_Template_button_click_17_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r20 = ɵngcc0.ɵɵnextContext(); return ctx_r20.resetImage(); });\n    ɵngcc0.ɵɵelement(18, \"span\", 53);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction DICOMViewerComponent_button_11_Template(rf, ctx) { if (rf & 1) {\n    const _r22 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 54);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_button_11_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r21 = ɵngcc0.ɵɵnextContext(); return ctx_r21.playClip(); });\n    ɵngcc0.ɵɵelement(1, \"span\", 55);\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction DICOMViewerComponent_button_12_Template(rf, ctx) { if (rf & 1) {\n    const _r24 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 56);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_button_12_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r24); const ctx_r23 = ɵngcc0.ɵɵnextContext(); return ctx_r23.stopClip(); });\n    ɵngcc0.ɵɵelement(1, \"span\", 57);\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction DICOMViewerComponent_a_13_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"a\", 58);\n    ɵngcc0.ɵɵelement(1, \"span\", 59);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"href\", ctx_r4.downloadImagesURL, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction DICOMViewerComponent_a_18_Template(rf, ctx) { if (rf & 1) {\n    const _r26 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 60);\n    ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_a_18_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r26); const ctx_r25 = ɵngcc0.ɵɵnextContext(); return ctx_r25.loadMoreImages(); });\n    ɵngcc0.ɵɵelement(1, \"i\", 61);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r5 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate1(\" clique aqui para trazer as pr\\u00F3ximas \", ctx_r5.moreImagestoLoad, \" imagens \");\n} }\n;\nclass CornerstoneDirective {\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.imageList = [];\n        this.imageIdList = [];\n        this.currentIndex = 0;\n        this.patientName = ''; // current image Patient name, do display on the overlay\n        this.hospital = ''; // current image Institution name, to display on the overlay\n        this.instanceNumber = ''; // current image Instance #, to display on the overlay\n        // cornersTone Tools we use\n        this.WwwcTool = cornerstoneTools.WwwcTool;\n        this.PanTool = cornerstoneTools.PanTool;\n        this.ZoomTool = cornerstoneTools.ZoomTool;\n        this.ProbeTool = cornerstoneTools.ProbeTool;\n        this.LengthTool = cornerstoneTools.LengthTool;\n        this.AngleTool = cornerstoneTools.AngleTool;\n        this.EllipticalRoiTool = cornerstoneTools.EllipticalRoiTool;\n        this.RectangleRoiTool = cornerstoneTools.RectangleRoiTool;\n        this.DragProbeTool = cornerstoneTools.DragProbeTool;\n        this.ZoomTouchPinchTool = cornerstoneTools.ZoomTouchPinchTool;\n        this.PanMultiTouchTool = cornerstoneTools.PanMultiTouchTool;\n        this.StackScrollTool = cornerstoneTools.StackScrollTool;\n        this.StackScrollMouseWheelTool = cornerstoneTools.StackScrollMouseWheelTool;\n        this.isCornerstoneEnabled = false;\n    }\n    get windowingValue() {\n        if (this.isCornerstoneEnabled) {\n            let viewport = cornerstone.getViewport(this.element);\n            if (this.currentImage && viewport) {\n                return Math.round(viewport.voi.windowWidth) + \"/\" + Math.round(viewport.voi.windowCenter);\n            }\n        }\n        return '';\n    }\n    get zoomValue() {\n        if (this.isCornerstoneEnabled) {\n            let viewport = cornerstone.getViewport(this.element);\n            if (this.currentImage && viewport) {\n                return viewport.scale.toFixed(2);\n            }\n        }\n        return '';\n    }\n    onResize(event) {\n        if (this.isCornerstoneEnabled) {\n            cornerstone.resize(this.element, true);\n        }\n    }\n    onMouseWheel(event) {\n        event.preventDefault();\n        if (this.imageList.length > 0) {\n            const delta = Math.max(-1, Math.min(1, (event.wheelDelta || -event.detail)));\n            // console.log(event);\n            if (delta > 0) {\n                this.currentIndex++;\n                if (this.currentIndex >= this.imageList.length) {\n                    this.currentIndex = this.imageList.length - 1;\n                }\n            }\n            else {\n                this.currentIndex--;\n                if (this.currentIndex < 0) {\n                    this.currentIndex = 0;\n                }\n            }\n            this.displayImage(this.imageList[this.currentIndex]);\n        }\n    }\n    ngOnInit() {\n        // Retrieve the DOM element itself\n        this.element = this.elementRef.nativeElement;\n        // now add the Tools we use\n        cornerstoneTools.external.cornerstone = cornerstone;\n        cornerstoneTools.external.Hammer = Hammer;\n        cornerstoneTools.external.cornerstoneMath = cornerstoneMath;\n        cornerstoneTools.init({ globalToolSyncEnabled: true });\n        cornerstoneTools.addTool(this.WwwcTool);\n        cornerstoneTools.addTool(this.PanTool);\n        cornerstoneTools.addTool(this.ZoomTool);\n        cornerstoneTools.addTool(this.ProbeTool);\n        cornerstoneTools.addTool(this.LengthTool);\n        cornerstoneTools.addTool(this.AngleTool);\n        cornerstoneTools.addTool(this.EllipticalRoiTool);\n        cornerstoneTools.addTool(this.RectangleRoiTool);\n        cornerstoneTools.addTool(this.DragProbeTool);\n        cornerstoneTools.addTool(this.ZoomTouchPinchTool);\n        cornerstoneTools.addTool(this.PanMultiTouchTool);\n        cornerstoneTools.addTool(this.StackScrollTool);\n        cornerstoneTools.addTool(this.StackScrollMouseWheelTool);\n        // Enable the element with Cornerstone\n        this.resetViewer();\n    }\n    ngAfterViewChecked() {\n        //  if (this.currentImage) cornerstone.resize(this.element, true);\n    }\n    //\n    // reset the viewer, so only this current element is enabled\n    //\n    resetViewer() {\n        this.disableViewer();\n        cornerstone.enable(this.element);\n        this.isCornerstoneEnabled = true;\n    }\n    disableViewer() {\n        this.element = this.elementRef.nativeElement;\n        try {\n            cornerstone.disable(this.element);\n        }\n        finally { }\n        this.isCornerstoneEnabled = false;\n    }\n    resetImageCache() {\n        this.imageList = [];\n        this.imageIdList = [];\n        this.currentImage = null;\n        this.currentIndex = 0;\n        this.patientName = '';\n        this.hospital = '';\n        this.instanceNumber = '';\n    }\n    previousImage() {\n        if (this.imageList.length > 0) {\n            this.currentIndex--;\n            if (this.currentIndex < 0) {\n                this.currentIndex = 0;\n            }\n            this.displayImage(this.imageList[this.currentIndex]);\n        }\n    }\n    nextImage() {\n        if (this.imageList.length > 0) {\n            this.currentIndex++;\n            if (this.currentIndex >= this.imageList.length) {\n                this.currentIndex = this.imageList.length - 1;\n            }\n            this.displayImage(this.imageList[this.currentIndex]);\n        }\n    }\n    addImageData(imageData) {\n        this.element = this.elementRef.nativeElement;\n        //if (!this.imageList.filter(img => img.imageId === imageData.imageId).length) {\n        this.imageList.push(imageData);\n        this.imageIdList.push(imageData.imageId);\n        if (this.imageList.length === 1) {\n            this.currentIndex = 0;\n            this.displayImage(imageData);\n        }\n        //}\n        cornerstone.resize(this.element, true);\n    }\n    displayImage(image) {\n        this.element = this.elementRef.nativeElement;\n        const viewport = cornerstone.getDefaultViewportForImage(this.element, image);\n        cornerstone.displayImage(this.element, image, viewport);\n        this.currentImage = image;\n        // Fit the image to the viewport window\n        cornerstone.fitToWindow(this.element);\n        cornerstone.resize(this.element, true);\n        // get image info to display in overlays\n        if (image.data.string('x00100010'))\n            this.patientName = image.data.string('x00100010').replace(/\\^/g, '');\n        this.hospital = image.data.string('x00080080');\n        this.instanceNumber = image.data.intString('x00200011') + '/' + image.data.intString('x00200013');\n        // Activate mouse clicks, mouse wheel and touch\n        // cornerstoneTools.mouseInput.enable(this.element);\n        // cornerstoneTools.mouseWheelInput.enable(this.element);\n        // //cornerstoneTools.touchInput.enable(this.element);\n        // cornerstoneTools.keyboardInput.enable(this.element);\n        // Enable all tools we want to use with this element\n        cornerstoneTools.setToolActiveForElement(this.element, 'Wwwc', { mouseButtonMask: 1 }, ['Mouse']); // ww/wc is the default tool for left mouse button\n        cornerstoneTools.setToolActiveForElement(this.element, 'Pan', { mouseButtonMask: 4 }, ['Mouse']); // pan is the default tool for middle mouse button\n        cornerstoneTools.setToolActiveForElement(this.element, 'Zoom', { mouseButtonMask: 2 }, ['Mouse']); // zoom is the default tool for right mouse button\n        /*     cornerstoneTools.wwwc.activate(this.element, 1); // ww/wc is the default tool for left mouse button\n            cornerstoneTools.pan.activate(this.element, 2); // pan is the default tool for middle mouse button\n            cornerstoneTools.zoom.activate(this.element, 4); // zoom is the default tool for right mouse button\n            cornerstoneTools.probe.enable(this.element);\n            cornerstoneTools.length.enable(this.element);\n            cornerstoneTools.angle.enable(this.element);\n            cornerstoneTools.simpleAngle.enable(this.element);\n            cornerstoneTools.ellipticalRoi.enable(this.element);\n            cornerstoneTools.rectangleRoi.enable(this.element);\n            cornerstoneTools.wwwcTouchDrag.activate(this.element) // - Drag\n            cornerstoneTools.zoomTouchPinch.activate(this.element) // - Pinch\n            cornerstoneTools.panMultiTouch.activate(this.element) // - Multi (x2) */\n        // Stack tools\n        // Define the Stack object\n        const stack = {\n            currentImageIdIndex: this.currentIndex,\n            imageIds: this.imageIdList\n        };\n        cornerstoneTools.addStackStateManager(this.element, ['playClip']);\n        // Add the stack tool state to the enabled element\n        cornerstoneTools.addStackStateManager(this.element, ['stack']);\n        cornerstoneTools.addToolState(this.element, 'stack', stack);\n        // cornerstoneTools.stackScrollWheel.activate(this.element);\n        // Enable all tools we want to use with this element\n        cornerstoneTools.setToolActiveForElement(this.element, 'StackScroll', {});\n        //cornerstoneTools.stackPrefetch.enable(this.element);\n    }\n    // cornerstone.displayImage(this.element, image);\n    // deactivate all tools\n    resetAllTools() {\n        cornerstoneTools.setToolDisabledForElement(this.element, 'Wwwc');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'Pan');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'Zoom');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'Probe');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'Length');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'Angle');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'EllipticalRoi');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'RectangleRoi');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'DragProbe');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'ZoomTouchPinch');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'PanMultiTouch');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'StackScroll');\n        cornerstoneTools.setToolDisabledForElement(this.element, 'StackScrollMouseWheel');\n    }\n}\nCornerstoneDirective.ɵfac = function CornerstoneDirective_Factory(t) { return new (t || CornerstoneDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nCornerstoneDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CornerstoneDirective, selectors: [[\"\", \"cornerstone\", \"\"]], hostBindings: function CornerstoneDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function CornerstoneDirective_resize_HostBindingHandler($event) { return ctx.onResize($event); }, false, ɵngcc0.ɵɵresolveWindow)(\"wheel\", function CornerstoneDirective_wheel_HostBindingHandler($event) { return ctx.onMouseWheel($event); });\n    } } });\nCornerstoneDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\nCornerstoneDirective.propDecorators = {\n    onResize: [{ type: HostListener, args: ['window:resize', ['$event'],] }],\n    onMouseWheel: [{ type: HostListener, args: ['wheel', ['$event'],] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CornerstoneDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[cornerstone]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { onResize: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], onMouseWheel: [{\n            type: HostListener,\n            args: ['wheel', ['$event']]\n        }] }); })();\n\nclass ThumbnailDirective {\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n    }\n    ngOnInit() {\n        // Retrieve the DOM element itself\n        this.element = this.elementRef.nativeElement;\n        // Enable the element with Cornerstone\n        cornerstone.enable(this.element);\n        this.setImageData(this.imageData);\n    }\n    ngAfterViewChecked() {\n        this.refresh();\n    }\n    refresh() {\n        this.setImageData(this.imageData);\n    }\n    setImageData(image) {\n        this.imageData = image;\n        if (this.imageData && this.element) {\n            const viewport = cornerstone.getDefaultViewportForImage(this.element, this.imageData);\n            cornerstone.displayImage(this.element, this.imageData, viewport);\n            // Fit the image to the viewport window\n            cornerstone.fitToWindow(this.element);\n            cornerstone.resize(this.element, true);\n        }\n    }\n}\nThumbnailDirective.ɵfac = function ThumbnailDirective_Factory(t) { return new (t || ThumbnailDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nThumbnailDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ThumbnailDirective, selectors: [[\"\", \"thumbnail\", \"\"]], inputs: { imageData: \"imageData\" } });\nThumbnailDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\nThumbnailDirective.propDecorators = {\n    imageData: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThumbnailDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[thumbnail]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { imageData: [{\n            type: Input\n        }] }); })();\n\nclass DICOMViewerComponent {\n    constructor() {\n        this.enableViewerTools = false; // enable viewer tools\n        this.enablePlayTools = false; // enable Play Clip tools\n        this.downloadImagesURL = ''; // download images URL\n        this.maxImagesToLoad = 20; // limit for the automatic loading of study images\n        this.seriesList = []; // list of series on the images being displayed\n        this.currentSeriesIndex = 0;\n        this.currentSeries = {};\n        this.imageCount = 0; // total image count being viewed\n        // control exhibition of a loading images progress indicator\n        this.loadingImages = false;\n        this.loadedImages = [];\n        this.imageIdList = [];\n        this.targetImageCount = 0;\n    }\n    // control enable/disable image scroll buttons\n    get hidePreviousImage() { return { color: (this.viewPort.currentIndex < 1) ? 'black' : 'white' }; }\n    get hideNextImage() { return { color: (this.viewPort.currentIndex >= (this.imageCount - 1)) ? 'black' : 'white' }; }\n    // control message for more images to load\n    get moreImagestoLoad() {\n        if (this.loadedImages.length < this.imageIdList.length && !this.loadingImages) { // are there any more images to load?\n            const imagesToLoad = (this.maxImagesToLoad <= 0) ? (this.imageIdList.length - this.loadedImages.length) : Math.min(this.maxImagesToLoad, this.imageIdList.length - this.loadedImages.length);\n            return imagesToLoad.toString();\n        }\n        else\n            return '';\n    }\n    get showProgress() { return { display: (this.loadingImages) ? 'inline-block' : 'none' }; }\n    ;\n    ngOnInit() {\n        this.element = this.viewPort.element;\n    }\n    /**\n     * Load dicom images for display\n     *\n     * @param imageIdList list of imageIds to load and display\n     */\n    loadStudyImages(imageIdList) {\n        this.element = this.viewPort.element;\n        this.imageIdList = imageIdList;\n        this.viewPort.resetViewer();\n        this.viewPort.resetImageCache(); // clean up image cache\n        this.seriesList = []; // start a new series list\n        this.currentSeriesIndex = 0; // always display first series\n        this.loadedImages = []; // reset list of images already loaded\n        //\n        // loop thru all imageIds, load and cache them for exhibition (up the the maximum limit defined)\n        //\n        const maxImages = (this.maxImagesToLoad <= 0) ? imageIdList.length : Math.min(this.maxImagesToLoad, imageIdList.length);\n        this.loadingImages = true; // activate progress indicator\n        this.targetImageCount = maxImages;\n        for (let index = 0; index < maxImages; index++) {\n            const imageId = imageIdList[index];\n            cornerstone.loadAndCacheImage(imageId).then(imageData => { this.imageLoaded(imageData); });\n        }\n    }\n    /**\n     * Load the next batch of images\n     */\n    loadMoreImages() {\n        this.element = this.viewPort.element;\n        //\n        // loop thru all imageIds, load and cache them for exhibition (up the the maximum limit defined)\n        //\n        const maxImages = (this.maxImagesToLoad <= 0) ? (this.imageIdList.length - this.loadedImages.length) : Math.min(this.maxImagesToLoad, this.imageIdList.length - this.loadedImages.length);\n        this.loadingImages = true; // activate progress indicator\n        this.targetImageCount += maxImages;\n        let nextImageIndex = this.loadedImages.length;\n        for (let index = 0; index < maxImages; index++) {\n            const imageId = this.imageIdList[nextImageIndex++];\n            cornerstone.loadAndCacheImage(imageId)\n                .then(imageData => { this.imageLoaded(imageData); })\n                .catch(err => { this.targetImageCount--; });\n        }\n    }\n    /**\n     *\n     * @param imageData the dicom image data\n     */\n    imageLoaded(imageData) {\n        //console.log(imageData.imageId)\n        // build list of series in all loadded images\n        const series = {\n            studyID: imageData.data.string('x0020000d'),\n            seriesID: imageData.data.string('x0020000e'),\n            seriesNumber: imageData.data.intString('x00200011'),\n            studyDescription: imageData.data.string('x00081030'),\n            seriesDescription: imageData.data.string('x0008103e'),\n            imageCount: 1,\n            imageList: [imageData]\n        };\n        // if this is a new series, add it to the list\n        let seriesIndex = this.seriesList.findIndex(item => item.seriesID === series.seriesID);\n        if (seriesIndex < 0) {\n            seriesIndex = this.seriesList.length;\n            this.seriesList.push(series);\n            this.seriesList.sort((a, b) => {\n                if (a.seriesNumber > b.seriesNumber)\n                    return 1;\n                if (a.seriesNumber < b.seriesNumber)\n                    return -1;\n                return 0;\n            });\n        }\n        else {\n            let seriesItem = this.seriesList[seriesIndex];\n            seriesItem.imageCount++;\n            seriesItem.imageList.push(imageData);\n            seriesItem.imageList.sort((a, b) => {\n                if (a.data.intString('x00200013') > b.data.intString('x00200013'))\n                    return 1;\n                if (a.data.intString('x00200013') < b.data.intString('x00200013'))\n                    return -1;\n                return 0;\n            });\n        }\n        this.loadedImages.push(imageData); // save to images loaded\n        if (seriesIndex === this.currentSeriesIndex) {\n            //this.currentSeries = this.seriesList[seriesIndex];\n            //this.imageCount = this.currentSeries.imageCount; // get total image count\n            //this.viewPort.addImageData(imageData);\n            this.showSeries(this.currentSeriesIndex);\n        }\n        if (this.loadedImages.length >= this.targetImageCount) { // did we finish loading images?\n            this.loadingImages = false; // deactivate progress indicator\n        }\n    }\n    showSeries(index) {\n        //        this.resetAllTools();\n        this.currentSeriesIndex = index;\n        this.currentSeries = this.seriesList[index];\n        this.imageCount = this.currentSeries.imageCount; // get total image count\n        this.viewPort.resetImageCache(); // clean up image cache\n        //        this.loadingImages = true; // activate progress indicator\n        for (let i = 0; i < this.currentSeries.imageList.length; i++) {\n            const imageData = this.currentSeries.imageList[i];\n            this.viewPort.addImageData(imageData);\n        }\n        //        this.loadingImages = false; // de-activate progress indicator\n    }\n    saveAs() {\n        cornerstoneTools.saveAs(this.element, \"teste.jpg\");\n    }\n    /**\n     * Image scroll methods\n     */\n    nextImage() {\n        if (this.viewPort.currentIndex < this.imageCount) {\n            this.viewPort.nextImage();\n        }\n    }\n    previousImage() {\n        if (this.viewPort.currentIndex > 0) {\n            this.viewPort.previousImage();\n        }\n    }\n    /**\n     * Methods to activate/deactivate viewer tools\n     */\n    // deactivate all tools\n    resetAllTools() {\n        if (this.imageCount > 0) {\n            this.viewPort.resetAllTools();\n            this.stopClip();\n        }\n    }\n    // activate windowing\n    enableWindowing() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.wwwc.activate(this.element, 1);\n            // cornerstoneTools.wwwcTouchDrag.activate(this.element);\n            cornerstoneTools.setToolActiveForElement(this.element, 'Wwwc', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // activate zoom\n    enableZoom() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.zoom.activate(this.element, 5); // 5 is right mouse button and left mouse button\n            // cornerstoneTools.zoomTouchDrag.activate(this.element);\n            cornerstoneTools.setToolActiveForElement(this.element, 'Zoom', { mouseButtonMask: 1 }, ['Mouse']); // zoom left mouse\n            // cornerstoneTools.setToolActiveForElement(this.element, 'ZoomTouchPinch', { }, ['Mouse']);\n            cornerstoneTools.setToolActiveForElement(this.element, 'Pan', { mouseButtonMask: 2 }, ['Mouse']); // pan right mouse\n        }\n    }\n    // activate pan\n    enablePan() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.pan.activate(this.element, 3); // 3 is middle mouse button and left mouse button\n            // cornerstoneTools.panTouchDrag.activate(this.element);\n            cornerstoneTools.setToolActiveForElement(this.element, 'Pan', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // activate image scroll\n    enableScroll() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.stackScroll.activate(this.element, 1);\n            // cornerstoneTools.stackScrollTouchDrag.activate(this.element);\n            // cornerstoneTools.stackScrollKeyboard.activate(this.element);\n            cornerstoneTools.setToolActiveForElement(this.element, 'StackScroll', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // activate length measurement\n    enableLength() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.length.activate(this.element, 1);\n            cornerstoneTools.setToolActiveForElement(this.element, 'Length', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // activate angle measurement\n    enableAngle() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.simpleAngle.activate(this.element, 1);\n            cornerstoneTools.setToolActiveForElement(this.element, 'Angle', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // activate pixel probe\n    enableProbe() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.probe.activate(this.element, 1);\n            cornerstoneTools.setToolActiveForElement(this.element, 'Probe', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // activate Elliptical ROI\n    enableElliptical() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.ellipticalRoi.activate(this.element, 1);\n            cornerstoneTools.setToolActiveForElement(this.element, 'EllipticalRoi', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // activate Rectangle ROI\n    enableRectangle() {\n        if (this.imageCount > 0) {\n            this.resetAllTools();\n            // cornerstoneTools.rectangleRoi.activate(this.element, 1);\n            cornerstoneTools.setToolActiveForElement(this.element, 'RectangleRoi', { mouseButtonMask: 1 }, ['Mouse']);\n        }\n    }\n    // Play Clip\n    playClip() {\n        if (this.imageCount > 0) {\n            let frameRate = 10;\n            let stackState = cornerstoneTools.getToolState(this.element, 'stack');\n            if (stackState) {\n                frameRate = stackState.data[0].frameRate;\n                // Play at a default 10 FPS if the framerate is not specified\n                if (frameRate === undefined || frameRate === null || frameRate === 0) {\n                    frameRate = 10;\n                }\n            }\n            cornerstoneTools.playClip(this.element, frameRate);\n        }\n    }\n    // Stop Clip\n    stopClip() {\n        cornerstoneTools.stopClip(this.element);\n    }\n    // invert image\n    invertImage() {\n        if (this.imageCount > 0) {\n            let viewport = cornerstone.getViewport(this.element);\n            // Toggle invert\n            if (viewport.invert === true) {\n                viewport.invert = false;\n            }\n            else {\n                viewport.invert = true;\n            }\n            cornerstone.setViewport(this.element, viewport);\n        }\n    }\n    // reset image\n    resetImage() {\n        if (this.imageCount > 0) {\n            let toolStateManager = cornerstoneTools.getElementToolStateManager(this.element);\n            // Note that this only works on ImageId-specific tool state managers (for now)\n            //toolStateManager.clear(this.element);\n            cornerstoneTools.clearToolState(this.element, \"Length\");\n            cornerstoneTools.clearToolState(this.element, \"Angle\");\n            // cornerstoneTools.clearToolState(this.element, \"simpleAngle\");\n            cornerstoneTools.clearToolState(this.element, \"Probe\");\n            cornerstoneTools.clearToolState(this.element, \"EllipticalRoi\");\n            cornerstoneTools.clearToolState(this.element, \"RectangleRoi\");\n            cornerstone.updateImage(this.element);\n            this.resetAllTools();\n        }\n    }\n    clearImage() {\n        this.viewPort.resetViewer();\n        this.viewPort.resetImageCache();\n        this.seriesList = []; // list of series on the images being displayed\n        this.currentSeriesIndex = 0;\n        this.currentSeries = {};\n        this.imageCount = 0; // total image count being viewed\n    }\n}\nDICOMViewerComponent.ɵfac = function DICOMViewerComponent_Factory(t) { return new (t || DICOMViewerComponent)(); };\nDICOMViewerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DICOMViewerComponent, selectors: [[\"dicom-viewer\"]], viewQuery: function DICOMViewerComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(CornerstoneDirective, true);\n        ɵngcc0.ɵɵviewQuery(ThumbnailDirective, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.viewPort = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.thumbnails = _t);\n    } }, inputs: { enableViewerTools: \"enableViewerTools\", enablePlayTools: \"enablePlayTools\", downloadImagesURL: \"downloadImagesURL\", maxImagesToLoad: \"maxImagesToLoad\" }, decls: 37, vars: 15, consts: [[2, \"display\", \"flex\", \"width\", \"100%\", \"height\", \"100%\"], [\"class\", \"thumbnailSelector\", \"style\", \"margin-right: 5px;\", 4, \"ngIf\"], [2, \"overflow\", \"hidden\", \"width\", \"100%\", \"height\", \"100%\", \"background-color\", \"#424242\"], [1, \"btn-group\"], [\"class\", \"btn-group\", 4, \"ngIf\"], [\"type\", \"  button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Zoom\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Pan\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-arrows-alt\"], [\"type\", \"button\", \"style\", \"border-left: 1px dotted white;\", \"class\", \"btn btn-sm btn-default\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Play Clip\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-sm btn-default\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Stop Clip\", 3, \"click\", 4, \"ngIf\"], [\"download\", \"\", \"style\", \"border-left: 1px dotted white;\", \"class\", \"btn btn-sm btn-default\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Download Imagens\", 3, \"href\", 4, \"ngIf\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Imagem Anterior\", 1, \"btn\", \"btn-sm\", \"btn-default\", 2, \"border-left\", \"1px dotted white\", 3, \"ngStyle\", \"click\"], [1, \"fa\", \"fa-backward\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Pr\\u00F3xima Imagem\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"ngStyle\", \"click\"], [1, \"fa\", \"fa-forward\"], [\"type\", \"button\", \"style\", \"border-left: 1px dotted white;color: white;white-space: nowrap;\", \"class\", \"btn btn-sm btn-default\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Carrega mais imagens...\", 3, \"click\", 4, \"ngIf\"], [2, \"padding-left\", \"15px\", \"padding-top\", \"15px\", 3, \"ngStyle\"], [\"diameter\", \"30\", \"strokeWidth\", \"5\", \"color\", \"warn\", 2, \"display\", \"inline-block\"], [\"oncontextmenu\", \"return false\", \"unselectable\", \"on\", \"onselectstart\", \"return false;\", \"onmousedown\", \"return false;\", 1, \"cornerstone-enabled-image\", 2, \"width\", \"100%\", \"height\", \"calc(100% - 60px)\", \"position\", \"relative\", \"display\", \"inline-block\", \"color\", \"white\"], [\"cornerstone\", \"\", \"id\", \"dicomImage\", 2, \"width\", \"100%\", \"height\", \"100%\", \"top\", \"0px\", \"left\", \"0px\", \"position\", \"absolute\", \"outline\", \"none\", \"margin\", \"0 auto\"], [\"id\", \"mrtopleft\", 2, \"position\", \"absolute\", \"top\", \"3px\", \"left\", \"3px\"], [\"id\", \"mrtopright\", 2, \"position\", \"absolute\", \"top\", \"3px\", \"right\", \"3px\"], [\"id\", \"mrbottomleft\", 2, \"position\", \"absolute\", \"bottom\", \"3px\", \"left\", \"3px\"], [\"id\", \"mrbottomcenter\", 2, \"position\", \"absolute\", \"bottom\", \"3px\", \"width\", \"100%\", \"text-align\", \"center\", \"color\", \"red\"], [\"id\", \"mrbottomright\", 2, \"position\", \"absolute\", \"bottom\", \"6px\", \"right\", \"3px\"], [\"id\", \"sliceText\"], [1, \"thumbnailSelector\", 2, \"margin-right\", \"5px\"], [1, \"thumbnails\", \"list-group\", 2, \"height\", \"100%\"], [\"class\", \"list-group-item\", \"oncontextmenu\", \"return false\", \"unselectable\", \"on\", \"onselectstart\", \"return false;\", \"onmousedown\", \"return false;\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"version\"], [2, \"color\", \"white\"], [\"oncontextmenu\", \"return false\", \"unselectable\", \"on\", \"onselectstart\", \"return false;\", \"onmousedown\", \"return false;\", 1, \"list-group-item\", 3, \"ngClass\", \"click\"], [\"thumbnail\", \"\", \"oncontextmenu\", \"return false\", \"unselectable\", \"on\", \"onselectstart\", \"return false;\", \"onmousedown\", \"return false;\", 1, \"csthumbnail\", 3, \"imageData\"], [1, \"text-center\", \"small\", 2, \"color\", \"white\"], [\"id\", \"imageCount\", 2, \"color\", \"red\", \"font-size\", \"10pt\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Windowing\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-sun\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Invert\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-adjust\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Scroll\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-bars\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Length\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-arrows-alt-v\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Angle\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-angle-left\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Pixel Probe\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-dot-circle\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Elliptical ROI\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-circle\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Rectangle ROI\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-square\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Reset Image\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-window-restore\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Play Clip\", 1, \"btn\", \"btn-sm\", \"btn-default\", 2, \"border-left\", \"1px dotted white\", 3, \"click\"], [1, \"fa\", \"fa-play\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Stop Clip\", 1, \"btn\", \"btn-sm\", \"btn-default\", 3, \"click\"], [1, \"fa\", \"fa-stop\"], [\"download\", \"\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Download Imagens\", 1, \"btn\", \"btn-sm\", \"btn-default\", 2, \"border-left\", \"1px dotted white\", 3, \"href\"], [1, \"fa\", \"fa-download\"], [\"type\", \"button\", \"data-container\", \"body\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Carrega mais imagens...\", 1, \"btn\", \"btn-sm\", \"btn-default\", 2, \"border-left\", \"1px dotted white\", \"color\", \"white\", \"white-space\", \"nowrap\", 3, \"click\"], [1, \"fas\", \"fa-cloud-download-alt\"]], template: function DICOMViewerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, DICOMViewerComponent_div_1_Template, 7, 1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"div\");\n        ɵngcc0.ɵɵelementStart(4, \"div\", 3);\n        ɵngcc0.ɵɵtemplate(5, DICOMViewerComponent_div_5_Template, 19, 0, \"div\", 4);\n        ɵngcc0.ɵɵelementStart(6, \"div\", 3);\n        ɵngcc0.ɵɵelementStart(7, \"button\", 5);\n        ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_Template_button_click_7_listener() { return ctx.enableZoom(); });\n        ɵngcc0.ɵɵelement(8, \"span\", 6);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(9, \"button\", 7);\n        ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_Template_button_click_9_listener() { return ctx.enablePan(); });\n        ɵngcc0.ɵɵelement(10, \"span\", 8);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(11, DICOMViewerComponent_button_11_Template, 2, 0, \"button\", 9);\n        ɵngcc0.ɵɵtemplate(12, DICOMViewerComponent_button_12_Template, 2, 0, \"button\", 10);\n        ɵngcc0.ɵɵtemplate(13, DICOMViewerComponent_a_13_Template, 2, 1, \"a\", 11);\n        ɵngcc0.ɵɵelementStart(14, \"button\", 12);\n        ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_Template_button_click_14_listener() { return ctx.previousImage(); });\n        ɵngcc0.ɵɵelement(15, \"span\", 13);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(16, \"button\", 14);\n        ɵngcc0.ɵɵlistener(\"click\", function DICOMViewerComponent_Template_button_click_16_listener() { return ctx.nextImage(); });\n        ɵngcc0.ɵɵelement(17, \"span\", 15);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(18, DICOMViewerComponent_a_18_Template, 3, 1, \"a\", 16);\n        ɵngcc0.ɵɵelementStart(19, \"div\", 17);\n        ɵngcc0.ɵɵelement(20, \"mat-spinner\", 18);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(21, \"div\", 19);\n        ɵngcc0.ɵɵelement(22, \"div\", 20);\n        ɵngcc0.ɵɵelementStart(23, \"div\", 21);\n        ɵngcc0.ɵɵtext(24);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(25, \"div\", 22);\n        ɵngcc0.ɵɵtext(26);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(27, \"div\", 23);\n        ɵngcc0.ɵɵelementStart(28, \"div\");\n        ɵngcc0.ɵɵtext(29);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(30, \"div\");\n        ɵngcc0.ɵɵtext(31);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(32, \"div\", 24);\n        ɵngcc0.ɵɵtext(33, \" SOMENTE PARA VISUALIZA\\u00C7\\u00C3O, N\\u00C3O PODE SER USADO PARA DIAGN\\u00D3STICO. \");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(34, \"div\", 25);\n        ɵngcc0.ɵɵelementStart(35, \"div\", 26);\n        ɵngcc0.ɵɵtext(36);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.seriesList.length > 1);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.enableViewerTools);\n        ɵngcc0.ɵɵadvance(6);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.enablePlayTools);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.enablePlayTools);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.downloadImagesURL != \"\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.hidePreviousImage);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.hideNextImage);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.moreImagestoLoad != \"\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.showProgress);\n        ɵngcc0.ɵɵadvance(5);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.viewPort.patientName, \" \");\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.viewPort.hospital, \" \");\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.viewPort.instanceNumber, \" \");\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" WW/WC: \", ctx.viewPort.windowingValue, \" \");\n        ɵngcc0.ɵɵadvance(5);\n        ɵngcc0.ɵɵtextInterpolate2(\"Image: \", ctx.imageCount > 0 ? ctx.viewPort.currentIndex + 1 : 0, \"/\", ctx.imageCount, \"\");\n    } }, directives: [ɵngcc1.NgIf, ɵngcc1.NgStyle, ɵngcc2.MatSpinner, CornerstoneDirective, ɵngcc1.NgForOf, ɵngcc1.NgClass, ThumbnailDirective], styles: [\".btn-default[_ngcontent-%COMP%]{background-color:#424242;background-image:none;border-color:#424242;color:#fff;font-size:24pt;text-shadow:none}.thumbnailSelector[_ngcontent-%COMP%]{background-color:#424242;float:left;height:100%;margin-left:5px;width:106px}.thumbnails[_ngcontent-%COMP%]{margin:0;overflow-x:hidden;overflow-y:scroll}.csthumbnail[_ngcontent-%COMP%]{background-color:#000;border:0;color:#fff;height:100px;padding:0;width:100px}.version[_ngcontent-%COMP%]{bottom:20px;position:absolute;text-align:center;width:106px}a.list-group-item[_ngcontent-%COMP%]{background-color:#000;border:1px solid #424242;margin-bottom:3px;padding:2px;z-index:5}a.list-group-item.active[_ngcontent-%COMP%], a.list-group-item.active[_ngcontent-%COMP%]:focus, a.list-group-item.active[_ngcontent-%COMP%]:hover{background-color:#424242;background-image:linear-gradient(red,red,red);border-color:#4e4e4e}\"] });\nDICOMViewerComponent.ctorParameters = () => [];\nDICOMViewerComponent.propDecorators = {\n    enableViewerTools: [{ type: Input }],\n    enablePlayTools: [{ type: Input }],\n    downloadImagesURL: [{ type: Input }],\n    maxImagesToLoad: [{ type: Input }],\n    viewPort: [{ type: ViewChild, args: [CornerstoneDirective, { static: true },] }],\n    thumbnails: [{ type: ViewChildren, args: [ThumbnailDirective,] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DICOMViewerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'dicom-viewer',\n                template: \"<div style=\\\"display: flex; width:100%; height: 100%;\\\">\\n    <div class=\\\"thumbnailSelector\\\" *ngIf=\\\"seriesList.length > 1\\\" style=\\\"margin-right: 5px;\\\">\\n        <div class=\\\"thumbnails list-group\\\" style=\\\"height: 100%;\\\">\\n            <a *ngFor=\\\"let series of seriesList; let i=index\\\" [ngClass]=\\\"{'active': currentSeriesIndex === i}\\\" class=\\\"list-group-item\\\"\\n                oncontextmenu=\\\"return false\\\" unselectable=\\\"on\\\" onselectstart=\\\"return false;\\\" onmousedown=\\\"return false;\\\"\\n                (click)=\\\"showSeries(i)\\\">\\n                <div thumbnail [imageData]=\\\"series.imageList[0]\\\" class=\\\"csthumbnail\\\" oncontextmenu=\\\"return false\\\"\\n                    unselectable=\\\"on\\\" onselectstart=\\\"return false;\\\" onmousedown=\\\"return false;\\\">\\n                </div>\\n                <div class=\\\"text-center small\\\" style=\\\"color:white;\\\">{{series.seriesDescription}}</div>\\n                <div id=\\\"mrtopright\\\" style=\\\"position: absolute;top:3px; right:3px\\\">\\n                    <div id=\\\"imageCount\\\" style=\\\"color:red; font-size: 10pt\\\">{{series.imageCount}}</div>\\n                </div>\\n            </a>\\n            <div class=\\\"version\\\">\\n                <h6 style=\\\"color:white;\\\"><small>0.1.12</small></h6>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <!--container where image will be loaded-->\\n    <div style=\\\"overflow: hidden; width: 100%; height: 100%; background-color: #424242;\\\">\\n\\n        <!-- Toolbar -->\\n        <div>\\n            <div class=\\\"btn-group\\\">\\n                <div class=\\\"btn-group\\\" *ngIf=\\\"enableViewerTools\\\">\\n\\n                    <!-- WW/WL -->\\n                    <button type=\\\"button\\\" (click)=\\\"enableWindowing()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Windowing\\\"><span class=\\\"fa fa-sun\\\"></span></button>\\n                    <!-- Invert -->\\n                    <button type=\\\"button\\\" (click)=\\\"invertImage()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Invert\\\"><span class=\\\"fa fa-adjust\\\"></span></button>\\n                    <!-- Stack scroll -->\\n                    <button type=\\\"button\\\" (click)=\\\"enableScroll()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Scroll\\\"><span class=\\\"fa fa-bars\\\"></span></button>\\n                    <!-- Length measurement -->\\n                    <button type=\\\"button\\\" (click)=\\\"enableLength()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Length\\\"><span class=\\\"fa fa-arrows-alt-v\\\"></span></button>\\n                    <!-- Angle measurement -->\\n                    <button type=\\\"button\\\" (click)=\\\"enableAngle()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Angle\\\"><span class=\\\"fa fa-angle-left\\\"></span></button>\\n                    <!-- Pixel probe -->\\n                    <button type=\\\"button\\\" (click)=\\\"enableProbe()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Pixel Probe\\\"><span class=\\\"fa fa-dot-circle\\\"></span></button>\\n                    <!-- Elliptical ROI -->\\n                    <button type=\\\"button\\\" (click)=\\\"enableElliptical()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Elliptical ROI\\\"><span class=\\\"fa fa-circle\\\"></span></button>\\n                    <!-- Rectangle ROI -->\\n                    <button type=\\\"button\\\" (click)=\\\"enableRectangle()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Rectangle ROI\\\"><span class=\\\"fa fa-square\\\"></span></button>\\n                    <!-- Reset Image -->\\n                    <button type=\\\"button\\\" (click)=\\\"resetImage()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Reset Image\\\"><span class=\\\"fa fa-window-restore\\\"></span></button>\\n                </div>\\n                <div class=\\\"btn-group\\\">\\n                    <!-- Zoom -->\\n                    <button type=\\\"  button\\\" (click)=\\\"enableZoom()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                      data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Zoom\\\"><span class=\\\"fa fa-search\\\"></span></button>\\n                    <!-- Pan -->\\n                    <button type=\\\"button\\\" (click)=\\\"enablePan()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body' data-toggle=\\\"tooltip\\\"\\n                      data-placement=\\\"bottom\\\" title=\\\"Pan\\\"><span class=\\\"fa fa-arrows-alt\\\"></span></button>\\n                    <!-- Play clip -->\\n                    <button type=\\\"button\\\" *ngIf=\\\"enablePlayTools\\\" (click)=\\\"playClip()\\\" style=\\\"border-left: 1px dotted white;\\\" class=\\\"btn btn-sm btn-default\\\"\\n                        data-container='body' data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Play Clip\\\"><span\\n                            class=\\\"fa fa-play\\\"></span></button>\\n                    <!-- Stop clip -->\\n                    <button type=\\\"button\\\" *ngIf=\\\"enablePlayTools\\\" (click)=\\\"stopClip()\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body'\\n                        data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Stop Clip\\\"><span class=\\\"fa fa-stop\\\"></span></button>\\n\\n                    <!-- Layout -->\\n                    <!--                 <button type=\\\"button\\\" style=\\\"border-left: 1px dotted white;\\\" [matMenuTriggerFor]=\\\"menu\\\" class=\\\"btn btn-sm btn-default\\\" data-container='body' data-toggle=\\\"dropdown\\\" aria-expanded=\\\"false\\\" data-placement=\\\"top\\\" title=\\\"Layout\\\"><span class=\\\"fa fa-th-large\\\"></span></button>\\n                  <mat-menu #menu=\\\"matMenu\\\">\\n                          <a mat-menu-item class=\\\"dropdown-item\\\" >1x1</a>\\n                          <a mat-menu-item class=\\\"dropdown-item\\\" >2x1</a>\\n                          <a mat-menu-item class=\\\"dropdown-item\\\" >1x2</a>\\n                          <a mat-menu-item class=\\\"dropdown-item\\\" >2x2</a>\\n\\n                  </mat-menu> -->\\n\\n                    <!-- Download -->\\n                    <a *ngIf=\\\"downloadImagesURL != ''\\\" [href]=\\\"downloadImagesURL\\\" download style=\\\"border-left: 1px dotted white;\\\"\\n                        class=\\\"btn btn-sm btn-default\\\" data-container='body' data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\"\\n                        title=\\\"Download Imagens\\\">\\n                        <span class=\\\"fa fa-download\\\"></span>\\n                    </a>\\n\\n                    <!-- Imagem Anterior -->\\n                    <button type=\\\"button\\\" (click)=\\\"previousImage()\\\" [ngStyle]=\\\"hidePreviousImage\\\" style=\\\"border-left: 1px dotted white;\\\"\\n                        class=\\\"btn btn-sm btn-default\\\" data-container='body' data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\"\\n                        title=\\\"Imagem Anterior\\\"><span class=\\\"fa fa-backward\\\"></span></button>\\n                    <!-- Pr\\u00F3xima Imagem -->\\n                    <button type=\\\"button\\\" (click)=\\\"nextImage()\\\" [ngStyle]=\\\"hideNextImage\\\" class=\\\"btn btn-sm btn-default\\\"\\n                        data-container='body' data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Pr\\u00F3xima Imagem\\\"><span\\n                            class=\\\"fa fa-forward\\\"></span></button>\\n\\n                    <!-- Load Next Batch -->\\n                    <a type=\\\"button\\\" *ngIf=\\\"moreImagestoLoad != ''\\\" (click)=\\\"loadMoreImages()\\\" style=\\\"border-left: 1px dotted white;color: white;white-space: nowrap;\\\"\\n                        class=\\\"btn btn-sm btn-default\\\" data-container='body' data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\"\\n                        title=\\\"Carrega mais imagens...\\\"><i class=\\\"fas fa-cloud-download-alt\\\"></i> clique aqui para trazer as pr\\u00F3ximas {{moreImagestoLoad}} imagens\\n                    </a>\\n\\n                    <!-- Progress Spinner -->\\n                    <div style=\\\"padding-left: 15px; padding-top: 15px;\\\" [ngStyle]=\\\"showProgress\\\">\\n                        <mat-spinner style=\\\"display: inline-block;\\\" diameter=\\\"30\\\" strokeWidth=\\\"5\\\" color=\\\"warn\\\"></mat-spinner>\\n                    </div>\\n\\n                </div>\\n\\n            </div>\\n        </div>\\n        <div style=\\\"width: 100%; height: calc(100% - 60px);position:relative;display:inline-block;color:white;\\\"\\n            oncontextmenu=\\\"return false\\\" class='cornerstone-enabled-image' unselectable='on' onselectstart='return false;'\\n            onmousedown='return false;'>\\n            <div cornerstone style=\\\"width: 100%; height: 100%;top:0px;left:0px;position:absolute;outline:none;margin: 0 auto;\\\"\\n                id=\\\"dicomImage\\\">\\n            </div>\\n            <div id=\\\"mrtopleft\\\" style=\\\"position: absolute;top:3px; left:3px\\\">\\n                {{viewPort.patientName}}\\n            </div>\\n            <div id=\\\"mrtopright\\\" style=\\\"position: absolute;top:3px; right:3px\\\">\\n                {{viewPort.hospital}}\\n            </div>\\n            <div id=\\\"mrbottomleft\\\" style=\\\"position: absolute;bottom:3px; left:3px\\\">\\n                <div>\\n                    {{viewPort.instanceNumber}}\\n                </div>\\n                <div>\\n                    WW/WC: {{viewPort.windowingValue}}\\n                </div>\\n            </div>\\n            <div id=\\\"mrbottomcenter\\\" style=\\\"position: absolute;bottom:3px; width: 100%;text-align: center; color:red\\\">\\n                SOMENTE PARA VISUALIZA\\u00C7\\u00C3O, N\\u00C3O PODE SER USADO PARA DIAGN\\u00D3STICO.\\n            </div>\\n            <div id=\\\"mrbottomright\\\" style=\\\"position: absolute;bottom:6px; right:3px\\\">\\n                <!-- <div id=\\\"zoomText\\\">Zoom: {{viewPort.zoomValue}}</div> -->\\n                <div id=\\\"sliceText\\\">Image: {{(imageCount > 0)?viewPort.currentIndex+1:0}}/{{imageCount}}</div>\\n            </div>\\n        </div>\\n\\n    </div>\\n\\n</div>\\n\",\n                styles: [\".btn-default{background-color:#424242;background-image:none;border-color:#424242;color:#fff;font-size:24pt;text-shadow:none}.thumbnailSelector{background-color:#424242;float:left;height:100%;margin-left:5px;width:106px}.thumbnails{margin:0;overflow-x:hidden;overflow-y:scroll}.csthumbnail{background-color:#000;border:0;color:#fff;height:100px;padding:0;width:100px}.version{bottom:20px;position:absolute;text-align:center;width:106px}a.list-group-item{background-color:#000;border:1px solid #424242;margin-bottom:3px;padding:2px;z-index:5}a.list-group-item.active,a.list-group-item.active:focus,a.list-group-item.active:hover{background-color:#424242;background-image:linear-gradient(red,red,red);border-color:#4e4e4e}\"]\n            }]\n    }], function () { return []; }, { enableViewerTools: [{\n            type: Input\n        }], enablePlayTools: [{\n            type: Input\n        }], downloadImagesURL: [{\n            type: Input\n        }], maxImagesToLoad: [{\n            type: Input\n        }], viewPort: [{\n            type: ViewChild,\n            args: [CornerstoneDirective, { static: true }]\n        }], thumbnails: [{\n            type: ViewChildren,\n            args: [ThumbnailDirective]\n        }] }); })();\n\nclass DicomViewerModule {\n}\nDicomViewerModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: DicomViewerModule });\nDicomViewerModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function DicomViewerModule_Factory(t) { return new (t || DicomViewerModule)(); }, imports: [[\n            FormsModule,\n            CommonModule,\n            MatProgressSpinnerModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DicomViewerModule, { declarations: function () { return [DICOMViewerComponent, CornerstoneDirective, ThumbnailDirective]; }, imports: function () { return [FormsModule,\n        CommonModule,\n        MatProgressSpinnerModule]; }, exports: function () { return [DICOMViewerComponent, CornerstoneDirective, ThumbnailDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DicomViewerModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    FormsModule,\n                    CommonModule,\n                    MatProgressSpinnerModule\n                ],\n                declarations: [DICOMViewerComponent, CornerstoneDirective, ThumbnailDirective],\n                exports: [DICOMViewerComponent, CornerstoneDirective, ThumbnailDirective]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of dicom-viewer\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CornerstoneDirective, DICOMViewerComponent, DicomViewerModule, ThumbnailDirective };\n\n//# sourceMappingURL=ng-dicomviewer.js.map","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { DICOMViewerComponent } from 'dicomViewer';\n\ndeclare const cornerstone;\ndeclare const cornerstoneWADOImageLoader;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  @ViewChild(DICOMViewerComponent, { static: true }) viewPort: DICOMViewerComponent;\n\n  ngOnInit() {\n    cornerstoneWADOImageLoader.external.cornerstone = cornerstone; // inicializa WADO Image loader\n\n    // configura codecs e web workers\n    cornerstoneWADOImageLoader.webWorkerManager.initialize({\n        webWorkerPath: './assets/cornerstone/webworkers/cornerstoneWADOImageLoaderWebWorker.js',\n        taskConfiguration: {\n            'decodeTask': {\n                codecsPath: '../codecs/cornerstoneWADOImageLoaderCodecs.js'\n            }\n        }\n    });\n\n  }\n\n  /**\n   * Load selected DICOM images\n   *\n   * @param files list of selected dicom files\n   */\n  loadDICOMImages(files: FileList) {\n    if (files && files.length > 0) {\n      let imageList = [];\n      const fileList:Array<File> = Array.from(files);\n      fileList.sort((a,b) => {\n        if ( a.name > b.name ) return 1;\n        if ( b.name > a.name ) return -1;\n        return 0;\n      })\n      //cornerstoneWADOImageLoader.wadouri.fileManager.purge();\n      cornerstoneWADOImageLoader.wadouri.dataSetCacheManager.purge();\n\n      // loop thru the File list and build a list of wadouri imageIds (dicomfile:)\n      for (let i = 0; i < fileList.length; i++) {\n        const dicomFile: File = fileList[i];\n        const imageId = cornerstoneWADOImageLoader.wadouri.fileManager.add(dicomFile);\n        imageList.push(imageId);\n      }\n\n      this.viewPort.resetAllTools();\n\n      // now load all Images, using their wadouri\n      this.viewPort.loadStudyImages(imageList);\n\n    } else alert('Escolha imagens DICOM a exibir.');\n  }\n}\n","<div style=\"height:100%; width: 100%;\">\n  <div style=\"display: flex; margin-left: 120px; align-items: center;\">\n    <h1>\n      A demo DICOM Viewer, based on <a href=\"https://github.com/cornerstonejs\">Cornerstone</a>\n    </h1>\n\n    <div class=\"choose_file\">\n      Choose Your DICOM Files\n      <input class=\"hide_file\" type=\"file\" multiple accept=\"application/dicom\" id=\"imagens\" title=\"selecione arquivos de imagens\"\n      (change)=\"loadDICOMImages($event.target.files)\">\n    </div>\n\n\n\n  </div>\n\n  <div style=\"display: flex;height: calc(100% - 90px); width:100%;\">\n    <dicom-viewer [enableViewerTools]=\"true\" [enablePlayTools]=\"true\" [maxImagesToLoad]=\"20\" style=\"height:100%; width:100%; margin: 10px;\"></dicom-viewer>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\nimport { AppComponent } from './app.component';\nimport { DicomViewerModule } from 'dicomViewer'\n\n@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    CommonModule,\n    MatProgressSpinnerModule,\n    DicomViewerModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\n"]}